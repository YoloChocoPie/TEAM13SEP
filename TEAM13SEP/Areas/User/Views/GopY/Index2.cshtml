﻿@model IEnumerable<TEAM13SEP.Models.GOPY>

@{
    ViewBag.Title = "Index";
    Layout = "~/Areas/User/Views/Shared/_UserLayoutHTGY.cshtml";
}

@*@Html.ActionLink("Đặt góp ý", "Create") | @Html.ActionLink("Xem danh sách các câu góp ý", "Index") |  @Html.ActionLink("Xem danh sách góp ý ẩn danh", "Index3") | @Html.ActionLink("Xem danh sách các câu ẩn danh được trả lời", "Index4")*@

@*<div></div>
    Xin chào : @Session["user-fullname1"] | Mã số sinh viên : @Session["user-id1"]*@
@*<li><a href="~/User/Auth/Logout" class="nav-link "><i class="ti-close"></i> Đăng xuất</a></li>*@

<h4>Danh sách các góp ý được trả lời</h4>
<hr />

@*-----------------------------------------------------------------------gop y MSSV tra loi----------------------------------*@

@foreach (var item in Model.Where(w => w.TRANGTHAI.ID == 3))
{

    if (item.SINHVIEN_ID != null)
    {
        <article class="answer">
                <section class="question">
                        <header>
                            <span style="font-size: 17px"> <i class="fa fa-commenting-o fa-2x" aria-hidden="true" style="color: darkslategrey"></i> </span>
                            <div id="tag-name">
                                <span style="font-size: 16px"> <i class="fa fa-creative-commons" aria-hidden="true"></i> Tên chủ đề :  @item.CHUDE.CHUDE_NAME</span>
                            </div>
                            <span style="font-size: 17px; font-family: Georgia, serif; font-weight: bolder; margin-left: 6px"> <i class="fa fa-user-o aria-hidden="true"></i> @item.SINHVIEN.HOTEN_SV </span> <br />
                            <span style="font-size: 11.5px; font-style: oblique; margin-left: 54px"> @item.DATE </span>
                            <hr style="border-top:solid 0.5px gray; width: 25%; text-align: left; margin-left: 55px" />

                        </header>

                        <div>
                            @MvcHtmlString.Create(item.NOIDUNG_GOPY)
                        </div>
                        <div></div>
                </section>

            <section class="answer">
                <header>
                    <span style="font-size:17px; font-family: Georgia, serif; font-weight: bolder"><i class="fa fa-pencil-square-o fa-2x" aria-hidden="true"></i> @item.ADMIN.FULL_NAME </span>
                    <hr style="border-top:solid 0.5px gray; width: 30%; text-align: left; margin-left: 5px" />
                    @*<span class="info"> Người trả lời: @item.ADMIN.FULL_NAME </span>*@
                    @*<i class="fas fa-calendar"></i> <time value="@item."></time>*@
                </header>
                <div>
                    @MvcHtmlString.Create(item.TRALOI_GOPY)
                </div>
                <footer for-login-status="true">
                </footer>
            </section>

             <div id="like">
                @if (item.daLike == false)
                {
                    <span id="heartbeat"> @Html.ActionLink("🤍", "Like1", new { id = item.ID })</span>
                }
                else
                {
                    <span id="heartbeat"> @Html.ActionLink("❤️", "unLike1", new { id = item.ID }) </span>
                }
                <span class="heartbip" style="margin-left: 1px; font-size: 20px"> @Html.DisplayFor(modelItem => item.nutLIKE)  </span>
            </div>            



        </article>
    }

}

@*-----------------------------------------------------------------------gop y AN DANH tra loi----------------------------------*@

@foreach (var item in Model.Where(w => w.TRANGTHAI.ID == 3))
{
    if (item.SINHVIEN_ID == null)
    {
<article class="answer">
    <section class="question">
        <header>
            <span style="font-size: 17px"> <i class="fa fa-comments-o fa-2x" aria-hidden="true" style="color: darkslategrey"> </i> </span>
            <div id="tag-name">
                <span style="font-size: 16px"> <i class="fa fa-creative-commons" aria-hidden="true"></i> Tên chủ đề :  @item.CHUDE.CHUDE_NAME </span>
            </div>
            <span style="font-size: 17px; font-family: Georgia, serif; font-weight: bolder; margin-left: 6px"> <i class="fa fa-user-secret" aria-hidden="true"></i> Ẩn danh </span> <br />
            <span style="font-size: 11.5px; font-style: oblique; margin-left: 54px"> @item.DATE </span>
            <hr style="border-top:solid 0.5px gray; width: 25%; text-align: left; margin-left: 55px" />


            @*@item.CHUDE.CHUDE_NAME*@
            @* <i class="fas fa-calendar"></i> <time value=""></time>
                @if (!string.IsNullOrWhiteSpace(item.DisplayName))
                {
                    <span><i class="fas fa-user"></i> @item.DisplayName</span>
                }*@
        </header>
        <div>
            @MvcHtmlString.Create(item.NOIDUNG_GOPY)
        </div>
        <div>

        </div>
    </section>



    <section class="answer">
        <header>
            <span style="font-size:17px; font-family: Georgia, serif; font-weight: bolder"><i class="fa fa-pencil-square-o fa-2x" aria-hidden="true"></i> @item.ADMIN.FULL_NAME </span>
            <hr style="border-top:solid 0.5px gray; width: 30%; text-align: left; margin-left: 5px" />
        </header>
        <div>
            @MvcHtmlString.Create(item.TRALOI_GOPY)
        </div>
        <footer for-login-status="true">
        </footer>

    </section>

    <div id="like">
        @if (item.daLike == false)
        {
            <span id="heartbeat"> @Html.ActionLink("🤍", "Like1", new { id = item.ID })</span>
        }
        else
        {
            <span id="heartbeat"> @Html.ActionLink("❤️", "unLike1", new { id = item.ID }) </span>
        }
        <span class="heartbip" style="margin-left: 1px; font-size: 20px"> @Html.DisplayFor(modelItem => item.nutLIKE)  </span>
    </div>

</article>
    }

}






@*<h2>Index</h2>

    <p>
        @Html.ActionLink("Create New", "Create")
    </p>
    <table class="table">
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.GOPY_CODE)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.GOPY_TEN)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.nutLIKE)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.NOIDUNG_GOPY)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.TRALOI_GOPY)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.DATE)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.ADMIN.EMAIL)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.CHUDE.CHUDE_CODE)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.SINHVIEN.EMAIL)
            </th>
            <th></th>
        </tr>

    @foreach (var item in Model) {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.GOPY_CODE)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.GOPY_TEN)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.nutLIKE)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.NOIDUNG_GOPY)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.TRALOI_GOPY)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.DATE)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.ADMIN.EMAIL)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.CHUDE.CHUDE_CODE)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.SINHVIEN.EMAIL)
            </td>
            <td>
                @Html.ActionLink("Edit", "Edit", new { id=item.ID }) |
                @Html.ActionLink("Details", "Details", new { id=item.ID }) |
                @Html.ActionLink("Delete", "Delete", new { id=item.ID })
            </td>
        </tr>
    }

    </table>*@